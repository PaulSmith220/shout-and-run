!function(e){function t(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=28)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={frame:{width:500,height:250},audio:{shoutLevel:.5,whisperLevel:.06},world:{gravity:.5,blockSize:50},player:{speedFactor:1,jumpPower:2,size:30,speedLimit:{x:2,y:7}}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(14),o=a(s);t.default=function(e,t){var i={volumeMeter:null,mediaStreamSource:null};try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},function(a){i.mediaStreamSource=e.createMediaStreamSource(a),i.volumeMeter=new o.default(e),i.mediaStreamSource.connect(i.volumeMeter.processor),window.volumeMeter=i.volumeMeter,t&&t(i.volumeMeter)},function(){return alert("Stream generation error")})}catch(e){alert("getUserMedia threw exception :"+e)}return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.SideScroller=window.SideScroller||{},SideScroller.Boot=function(){},SideScroller.Boot.prototype={preload:function(){this.load.image("preloadbar","./assets/images/preloader-bar.png")},create:function(){this.game.stage.backgroundColor="#fff",this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.scale.forceLandscape=!0,this.scale.refresh(),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.state.start("Preload")}}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),o=a(s);t.default=function(e){window.SideScroller=window.SideScroller||{},SideScroller.Game=function(){},SideScroller.Game.prototype={preload:function(){},create:function(){this.initGameController(),this.coinSound=this.game.add.audio("coin"),this.jumpSound=this.game.add.audio("jump"),this.deathSound=this.game.add.audio("death"),this.duckSound=this.game.add.audio("duck"),this.map=this.game.add.tilemap("level1"),this.map.addTilesetImage("tiles_spritesheet","gameTiles"),this.backgroundlayer=this.map.createLayer("backgroundLayer"),this.blockedLayer=this.map.createLayer("blockedLayer"),this.map.setCollisionBetween(1,1e5,!0,"blockedLayer"),this.backgroundlayer.resizeWorld(),this.createCoins(),this.player=this.game.add.sprite(100,100,"player"),this.player.anchor.y=1,this.player.frame=1;this.player.animations.add("right",[0,1,2,3],10,!0),this.player.animations.add("jump",[4],1,!0),this.player.animations.add("duck",[5],1,!0);this.player.animations.add("dead",[6],1,!0).enableUpdate=!0,this.player.coins=0,this.game.physics.arcade.enable(this.player),this.player.body.gravity.y=1e3,this.player.duckedDimensions={width:.9*this.player.width,height:.7*this.player.height},this.player.standDimensions={width:.9*this.player.width,height:this.player.height},this.player.anchor.setTo(.5,1),this.game.camera.follow(this.player),this.cursors=this.game.input.keyboard.createCursorKeys()},update:function(){if(this.game.physics.arcade.collide(this.player,this.blockedLayer,this.playerHit,null,this),this.game.physics.arcade.overlap(this.player,this.coins,this.collectCoin,null,this),this.player.alive){this.player.body.velocity.x=200;var t=e.volume;(this.cursors.up.isDown||t>=o.default.audio.shoutLevel)&&this.playerJump(),(this.cursors.down.isDown||t>=o.default.audio.whisperLevel&&t<o.default.audio.shoutLevel)&&this.playerDuck(!0),!this.cursors.down.isDown&&this.player.isDucked&&!this.pressingDown&&(t<o.default.audio.whisperLevel||t>=o.default.audio.shoutLevel)&&this.playerDuck(!1),this.player.x>=this.game.world.width&&this.gameOver(),this.player.y>420&&(this.player.alive=!1,this.player.body.velocity.x=0,this.player.animations.play("dead"),this.player.animPlaying=!1,this.deathSound.play(),navigator.vibrate&&navigator.vibrate(1e3),this.game.time.events.add(1500,this.gameOver,this)),this.player.isDucked||(0!=this.player.body.velocity.y?(this.player.animations.play("jump"),this.player.animPlaying=!1):this.player.animations.play("right",10,!0))}},render:function(){this.game.debug.text(this.player.coins||"0",20,70,"#00ff00","40px Courier")},gameOver:function(){this.game.state.start("Game")},playerHit:function(e,t){e.body.blocked.right&&(this.player.alive=!1,this.player.body.velocity.x=0,this.player.animations.play("dead"),navigator.vibrate&&navigator.vibrate(1e3),this.deathSound.play(),this.game.time.events.add(1500,this.gameOver,this))},playerJump:function(){this.player.body.blocked.down&&(this.player.body.velocity.y-=700,this.jumpSound.play())},playerDuck:function(e){this.player.animations.play(e?"duck":"right"),e?(this.player.isDucked||this.duckSound.play(),this.player.body.setSize(this.player.duckedDimensions.width,this.player.duckedDimensions.height)):this.player.body.setSize(this.player.standDimensions.width,this.player.standDimensions.height),this.player.isDucked=e},findObjectsByType:function(e,t,i){var a=new Array;return t.objects[i].forEach(function(i){i.type===e&&(i.y-=t.tileHeight,a.push(i))}),a},createFromTiledObject:function(e,t){var i=t.create(e.x,e.y,e.type);Object.keys(e.properties).forEach(function(t){i[t]=e.properties[t]})},createCoins:function(){this.coins=this.game.add.group(),this.coins.enableBody=!0,this.findObjectsByType("coin",this.map,"objectsLayer").forEach(function(e){this.createFromTiledObject(e,this.coins)},this)},collectCoin:function(e,t){this.coinSound.play(),navigator.vibrate&&navigator.vibrate(1e3),t.destroy(),this.player.coins++},initGameController:function(){if(!GameController.hasInitiated);}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.SideScroller=window.SideScroller||{},SideScroller.game=new Phaser.Game(568,320,Phaser.AUTO,""),SideScroller.game.state.add("Boot",SideScroller.Boot),SideScroller.game.state.add("Preload",SideScroller.Preload),SideScroller.game.state.add("Game",SideScroller.Game),SideScroller.game.state.start("Boot")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.SideScroller=window.SideScroller||{},SideScroller.Preload=function(){},SideScroller.Preload.prototype={preload:function(){this.preloadBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"preloadbar"),this.preloadBar.anchor.setTo(.5),this.preloadBar.scale.setTo(3),this.load.setPreloadSprite(this.preloadBar),this.load.tilemap("level1","./assets/tilemaps/level1_my.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("gameTiles","./assets/images/tiles_spritesheet.png"),this.load.spritesheet("player","./assets/images/player_anim.png",66,92),this.load.image("coin","./assets/images/coin.png"),this.load.audio("coin","./assets/audio/coin.wav"),this.load.audio("jump","./assets/audio/jump.wav"),this.load.audio("death","./assets/audio/death.wav"),this.load.audio("duck","./assets/audio/duck.wav")},create:function(){this.state.start("Game")}}}},function(e,t,i){e.exports=i.p+"assets/tilemaps/level1.json?e11b6efb548c8c228913da650e2a7d4c"},function(e,t,i){e.exports=i.p+"assets/tilemaps/level1.tmx?498a0723558608a1968a4bd3432c4de8"},function(e,t,i){e.exports=i.p+"assets/tilemaps/level1_my.json?b0a818387604fdffb32dcec941cdf222"},function(e,t,i){e.exports=i.p+"assets/tilemaps/level1_my.tmx?87b1f386ae901c94b0803d5e68030f4f"},function(e,t,i){e.exports=i.p+"js/gamecontroller.min.js?495321d8da96f8ca564a7dd05e24f4b1"},function(e,t,i){e.exports=i.p+"js/phaser.min.js?60379cf17c4277923a7a7653af70e303"},function(e,t,i){function a(e){return i(s(e))}function s(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./coin.mp3":15,"./coin.ogg":16,"./coin.wav":17,"./death.wav":18,"./duck.wav":19,"./jump.wav":20};a.keys=function(){return Object.keys(o)},a.resolve=s,e.exports=a,a.id=12},function(e,t,i){function a(e){return i(s(e))}function s(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./coin.png":21,"./dead.png":22,"./duck.png":23,"./jump.png":24,"./player_anim.png":25,"./preloader-bar.png":26,"./tiles_spritesheet.png":27};a.keys=function(){return Object.keys(o)},a.resolve=s,e.exports=a,a.id=13},function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=function(){function e(t){var i=this;a(this,e),this.processor=t.createScriptProcessor(512),this.processor.onaudioprocess=this.calculateVolume,this.processor.clipping=!1,this.processor.clipLevel=.98,this.processor.averaging=.96,this.processor.clipLag=750,this.processor.lastClip=0,this.processor.volume=0,this.processor.connect(t.destination),this.processor.checkClipping=function(){return!!i.clipping&&(i.lastClip+i.clipLag<window.performance.now()&&(i.clipping=!1),i.clipping)},this.processor.shutdown=function(){i.disconnect(),i.onaudioprocess=null}}return s(e,[{key:"calculateVolume",value:function(e){for(var t=e.inputBuffer.getChannelData(0),i=t.length,a=0,s=void 0,o=0;o<i;o++)s=t[o],Math.abs(s)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),a+=s*s;var r=Math.sqrt(a/i);this.volume=Math.max(r,this.volume*this.averaging)}},{key:"volume",get:function(){return this.processor.volume}},{key:"checkClipping",get:function(){return this.processor.checkClipping()}}]),e}();t.default=o},function(e,t,i){e.exports=i.p+"assets/audio/coin.mp3?159cbc399916104b80e0fe56269bddc9"},function(e,t,i){e.exports=i.p+"assets/audio/coin.ogg?d8ec8e02ac8e4baa14d4f3de4ea0cc65"},function(e,t,i){e.exports=i.p+"assets/audio/coin.wav?3bebe927016e14638468f2c6c9d0754f"},function(e,t,i){e.exports=i.p+"assets/audio/death.wav?f1cecfefaa86676e6efef8f24d2b8c19"},function(e,t,i){e.exports=i.p+"assets/audio/duck.wav?05079063043e022ee4b94a54efbde39f"},function(e,t,i){e.exports=i.p+"assets/audio/jump.wav?dc16bb9ae5fd70fcc254f13ddfd0d04c"},function(e,t,i){e.exports=i.p+"assets/images/coin.png?c5cb55c1e15e0c08726867dcb5a7fdc2"},function(e,t,i){e.exports=i.p+"assets/images/dead.png?124de44005bef50283bda6da6d11003e"},function(e,t,i){e.exports=i.p+"assets/images/duck.png?3b7e5ef395561ecc0a4bc172f2c9fa5d"},function(e,t,i){e.exports=i.p+"assets/images/jump.png?33e8f7a5a5a6cb84e4c822c59a44cf64"},function(e,t,i){e.exports=i.p+"assets/images/player_anim.png?d38d689fd2407b69ec88b9d01cdd0b43"},function(e,t,i){e.exports=i.p+"assets/images/preloader-bar.png?9a36fe38f5b6e374157dbce011cc949e"},function(e,t,i){e.exports=i.p+"assets/images/tiles_spritesheet.png?2ab43fbc1941b43b726b3a901f108e72"},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=i(1),o=a(s),r=i(0),n=(a(r),i(2)),l=a(n),c=i(5),d=a(c),u=i(3),p=a(u),h=i(4),f=a(h);i(6),i(7),i(8),i(9),i(13),i(12),i(10),i(11),window.canvasCtx=null,window.volumeMeter=null,window.onload=function(){var e=new(window.AudioContext||window.webkitAudioContext),t=(0,o.default)(e,function(e){(0,l.default)(),(0,d.default)(),(0,p.default)(e),(0,f.default)()});t.volumeMeter,t.mediaStreamSource}}]);
//# sourceMappingURL=bundle.js.map